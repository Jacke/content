import { DVault, IDataStore, NoteProps, NotePropsByIdDict, NotePropsMeta } from "@dendronhq/common-all";
import { Prisma, PrismaClient } from "./generated-prisma-client";
export declare type NoteIndexLightProps = {
    fname: string;
    id: string;
    foo: string;
};
export declare class SQLiteMetadataStore implements IDataStore<string, NotePropsMeta> {
    constructor({ wsRoot, client, force, }: {
        wsRoot: string;
        client?: PrismaClient;
        force?: boolean;
    });
    get(id: string): Promise<{
        error: import("@dendronhq/common-all").DendronError<import("@dendronhq/common-all").StatusCodes | undefined>;
        data?: undefined;
    } | {
        data: NotePropsMeta;
        error?: undefined;
    }>;
    find(opts: Prisma.NoteFindManyArgs["where"]): Promise<{
        data: NotePropsMeta[];
    }>;
    write(key: string, data: NotePropsMeta): Promise<{
        error: Error;
        data?: undefined;
    } | {
        data: string;
        error?: undefined;
    }>;
    delete(key: string): Promise<{
        error: Error;
        data?: undefined;
    } | {
        data: string;
        error?: undefined;
    }>;
    static prisma(): PrismaClient<Prisma.PrismaClientOptions, never, Prisma.RejectOnNotFound | Prisma.RejectPerOperation | undefined>;
    static isDBInitialized(): Promise<boolean>;
    /**
     * Check if this vault is initialized in sqlite
     */
    static isVaultInitialized(vault: DVault): Promise<boolean>;
    static createWorkspace(wsRoot: string): Promise<import("./generated-prisma-client").Workspace>;
    static createAllTables(): Promise<void>;
    static upsertNote(_note: NoteProps): Promise<void>;
    static bulkInsertAllNotes({ notesIdDict, }: {
        notesIdDict: NotePropsByIdDict;
    }): Promise<{
        query: string;
    } | undefined>;
    static search(query: string): Promise<{
        hits: NoteIndexLightProps[];
        query: string;
    }>;
}
